XCOMM Should install to /usr or /usr/local ??
DESTDIR=/usr

XCOMM Name of man subdirectory of DESTDIR:
MANDIR=/X11R6/man/man1

XCOMM Name of bin subdirectory of DESTDIR: /X11R6/bin or maybe just  /bin
BINDIR=/X11R6/bin

XCOMM Name of share subdirectory of DESTDIR:
SHAREDIR=/share/sunclock

XCOMM
XCOMM Compile options:
XCOMM
XCOMM Set -DNEW_CTIME if using the table-driven version of ctime (i.e., if
XCOMM   your struct tm contains a tm_zone field), i.e. SunOS 4.1.x. Don't
XCOMM   define for system V or Solaris
XCOMM Pick -O or -g
XCOMM

#ifdef HPArchitectureAndHPUX
XPMLIBDIR=-L/opt/xpm/lib/X11
XPMINC=-I/opt/xpm/include
JLIBDIR=-L/opt/jpeg-6/lib
ZLIBDIR=
JINC=-I/opt/jpeg-6/include

CCOPTIONS = -Ae $(XPMINC) $(JINC) -DZLIB -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\"
#else
# SunOS

#XPMLIBDIR=-L/usr/X11R6/lib
#XPMINC=-I/usr/X11R6/include/X11
#JLIBDIR=-L/usr/lib
#ZLIBDIR=-L/usr/lib
#JINC=-I/usr/include
#CCOPTIONS=-O -DZLIB -DNEW_CTIME -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\"

# Solaris, Linux
#XPMLIBDIR=-L/usr/X11R6/lib
#XPMINC=-I/usr/X11R6/include/X11
#JLIBDIR=-L/usr/lib
#ZLIBDIR=-L/usr/lib
#JINC=-I/usr/include

CCOPTIONS=-O -DZLIB -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\"
#endif

SRCS=sunclock.c astro.c widgets.c tildepath.c dirlist.c \
     readvmf.c readxpm.c readgif.c readjpeg.c readpng.c
OBJS=sunclock.o astro.o widgets.o tildepath.o dirlist.o \
     readvmf.o readxpm.o readgif.o readjpeg.o readpng.o
LOCAL_LIBRARIES=$(XLIB) $(XPMLIBDIR) -lXpm $(ZLIBDIR) -lz \
     $(JLIBDIR) -ljpeg -lpng -lm
DEPLIBS=		# I don't know what I'm doing, and I hate imake!

ComplexProgramTarget(sunclock)

all::
	cd editkit ; xmkmf ; make DESTDIR=$(DESTDIR)

install.man::
	if [ -r $(DESTDIR)$(MANDIR)/sunclock.1x.gz ] ; \
	   then gzip -f $(DESTDIR)$(MANDIR)/sunclock.1x ; fi

install:: install.man
	$(MKDIRHIER) $(DESTDIR)$(SHAREDIR)/i18n
	cp -f Sunclockrc $(DESTDIR)$(SHAREDIR)
	cd i18n ; rm -f *~ ; cp -f Sunclock.* $(DESTDIR)$(SHAREDIR)/i18n
	$(MKDIRHIER) $(DESTDIR)$(SHAREDIR)/earthmaps/vmf
	cd vmf ; rm -f *~ ; cp -f * $(DESTDIR)$(SHAREDIR)/earthmaps/vmf
	cd editkit ; xmkmf ; make install DESTDIR=$(DESTDIR)
	cat WARNING

clean::
	cd tools ; make clean DESTDIR=$(DESTDIR)
	cd editkit ; xmkmf ; make clean DESTDIR=$(DESTDIR)

realclean:: clean
	rm -f Makefile
	cd editkit ; xmkmf ; make realclean DESTDIR=$(DESTDIR)


